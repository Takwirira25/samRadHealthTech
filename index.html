<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>samRad Health Technologies</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600;700&display=Cursive" rel="stylesheet">
    <style>
        /* Base Styles */
        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            background: linear-gradient(to right, #f8fbff, #e9f0f8); /* Softer, lighter gradient */
            color: #333;
            line-height: 1.6;
            scroll-behavior: smooth;
        }
        /* Header */
        header {
            background: linear-gradient(to right, #001f3f, #003366); /* Deeper blue gradient */
            color: #fff;
            padding: 0.3rem 1.5rem; /* Constant, minimal padding */
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            flex-direction: column; /* Stacks title and nav vertically for desktop */
            align-items: center;
            text-align: center;
        }
        header h1 {
            margin: 0; /* Remove default margin to reduce vertical space */
            font-size: 2.0rem; /* Fixed, minimal font size for constant header */
            color: #c9e6ff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3),
                         4px 4px 8px rgba(0,0,0,0.2),
                         6px 6px 12px rgba(0,0,0,0.1);
            letter-spacing: 0.05rem;
            line-height: 1.2; /* Adjust line height to reduce space above/below text */
            white-space: nowrap; /* Keep the title on one line */
        }
        
        /* Navigation (Desktop) */
        nav.nav-links {
            margin-top: 0.5rem; /* Minimal margin from title */
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }
        nav a {
            color: #e0f2f7;
            text-decoration: none;
            font-weight: 600;
            position: relative;
            white-space: nowrap;
            padding-bottom: 5px;
            transition: color 0.2s ease;
            font-size: 0.95rem;
        }
        nav a::after {
            content: '';
            display: block;
            width: 0;
            height: 2px;
            background: #89cff0;
            transition: width 0.2s ease-in-out;
            position: absolute;
            bottom: 0;
            left: 0;
        }
        nav a:hover,
        nav a.active {
            color: #fff;
        }
        nav a:hover::after,
        nav a.active::after {
            width: 100%;
        }
        /* Mobile Menu Toggle (hidden by default on desktop) */
        .menu-toggle {
            display: none;  
            background: none;
            border: none;
            font-size: 1.8rem;
            color: #fff;
            cursor: pointer;
            margin-top: 0.5rem;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background-color 0.2s ease, margin-top 0.2s ease-out;
        }
        /* Main Container */
        .container {
            padding: 3rem 6vw;
            max-width: 1300px;
            margin: 0 auto;
            animation: fadeIn 1.2s ease-out;
        }
        /* Headings */
        h1, h2 {
            color: #001f3f;
            margin-bottom: 1.2rem;
        }
        h2 {
            color: #001f3f;
            font-size: 2rem;
            border-bottom: 2px solid #d0e0f0;
            padding-bottom: 0.7rem;
            position: relative;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2),
                         2px 2px 4px rgba(0,0,0,0.15);
        }
        h2::before {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 50px;
            height: 3px;
            background: #007bff;
        }
        /* Sections */
        section {
            margin-bottom: 3.5rem;
            padding: 2rem;
            border-radius: 12px;
            background-color: #ffffff;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: all 0.4s ease;
        }
        section.active-section {
            background: #eef7ff;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        /* Services Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .service-card {
            background: #ffffff;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-left: 6px solid #007bff;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.2);
        }
        .service-card h3 {
            margin-top: 0;
            color: #001f3f;
            font-size: 1.4rem;
            margin-bottom: 0.8rem;
        }
        .service-card p {
            color: #555;
        }
        /* Buttons */
        button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 0.9rem 1.8rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.05rem;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            display: inline-block;
            margin-right: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        button:hover {
            background-color: #0056b3;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        /* Quiz Specific Styles */
        #quiz-form label {
            display: block;
            margin-bottom: 0.8rem;
            cursor: pointer;
            font-size: 1.05rem;
            color: #444;
            transition: color 0.2s ease;
        }
        #quiz-form label:hover {
            color: #007bff;
        }
        #quiz-form label input[type="radio"] {
            margin-right: 0.8rem;
            transform: scale(1.2);
        }
        #quiz-result p {
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }
        /* Radiation Animation Styles */
        #animation-container-horizontal {
            position: relative;
            width: 100%;
            max-width: 450px;
            height: 300px;
            margin: 2.5rem auto;
            background: #f0f7ff; /* This is the background for the entire scene */
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid #cce0f0;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        /* Add CSS custom properties for gantry rotation */
        #animation-container-horizontal {
            --gantry-rotation: 0deg; /* Default rotation */
            --head-x: 0px;
            --head-y: 0px;
        }

        .gantry-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            /* Rotate the entire circle container */
            transform: translate(-50%, -50%) rotate(var(--gantry-rotation)); 
            width: 240px; /* This is now the OUTER diameter of the ring */
            height: 240px; /* This is now the OUTER diameter of the ring */
            border-radius: 50%;
            z-index: 4;
            /* Removed transition here, JS will handle smooth updates */
            background: transparent;
            border: none;
            box-shadow:
                inset 0 0 0 15px #555,
                inset 0 0 0 30px #444,
                0 0 15px rgba(0,0,0,0.3);
        }
        .gantry-head {
            width: 35px;
            height: 35px;
            background: #222;
            border-radius: 50%;
            position: absolute;
            /* Position relative to the rotated gantry-circle */
            left: var(--head-x); /* Set by JS */
            top: var(--head-y); /* Set by JS */
            transform: translate(-50%, -50%); /* Center the head on its calculated point */
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        /* Styling for the container that holds the human figure */
        .human-body-silhouette {
            position: relative;
            width: 80px; /* Base width of the human figure's area */
            height: 180px; /* Base height of the human figure's area */
            z-index: 2;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        /* Styling for the SVG element itself within the container */
        .human-body-silhouette svg {
            width: 100%; /* Makes the SVG take up the full width of its container */
            height: 100%; /* Makes the SVG take up the full height of its container */
            stroke: #d9a78b; /* This is a fallback outline color, though the path will use the gradient */
            stroke-width: 2px; /* This stroke-width applies to any other SVG paths, not the main stick figure */
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.2)); /* Subtle drop shadow for depth */
        }
        /* --- THIS IS THE KEY PART FOR THE STICK FIGURE'S THICKNESS --- */
        /* Styling specifically for the <path> element that draws the stick figure */
        .human-body-silhouette svg path:first-of-type {
            fill: none; /* Ensures the stick figure is just lines, not filled */
            stroke: url(#humanGradient); /* Applies the cool-toned gradient to the lines */
            stroke-width: 25; /* <<-- MUCH THICKER NOW! */
        }
        .tumor {
            position: absolute;
            width: 20px; /* Increased initial size */
            height: 20px; /* Increased initial size */
            background: radial-gradient(circle, #cc0000, #800000);
            border-radius: 50%;
            z-index: 3;
            box-shadow: 0 0 12px 2px rgba(200,0,0,0.8); /* Adjusted shadow for larger size */
            transform: scale(1);
            opacity: 1;
            transition: transform 0.5s ease-out, opacity 0.5s ease-out;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%) scale(1);
        }
        .tumor.glowing {
            animation: tumorGlow 0.8s infinite alternate ease-in-out;
        }
        @keyframes tumorGlow {
            from { box-shadow: 0 0 12px 2px rgba(200,0,0,0.8); } /* Adjusted glow for larger size */
            to { box-shadow: 0 0 25px 5px rgba(255,50,50,0.9); } /* Brighter, larger glow */
        }
        .beam {
            position: absolute;
            height: 12px; /* Increased beam height for visibility */
            width: 0;
            /* More intense reddish-orange gradient */
            background: linear-gradient(to right, rgba(255, 100, 0, 0.95), rgba(255, 20, 0, 1));  
            /* Position and rotation set by JS */
            transform-origin: left center; /* Beam expands from left (gantry head) */
            box-shadow: 0 0 50px rgba(255, 50, 0, 1.2); /* More intense glow */
            border-radius: 6px; /* Slightly larger border-radius for thicker beam */
            z-index: 4;
            opacity: 0;
            transition: width 0.1s linear, opacity 0.1s linear;
        }
        .beam.firing {
            animation: beamPulse 0.3s infinite alternate; /* Pulsating effect */
        }
        @keyframes beamPulse {
            from { box-shadow: 0 0 40px rgba(255, 100, 0, 1); } /* More intense pulse glow */
            to { box-shadow: 0 0 80px 10px rgba(255, 20, 0, 1.5); } /* More intense pulse glow */
        }
        .patient-table {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 80px;
            background-color: #777;
            border-top: 10px solid #555;
            z-index: 1;
            box-shadow: inset 0 5px 10px rgba(0,0,0,0.2); /* Inner shadow for depth */
        }
        .patient-table::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 20%;
            width: 60%;
            height: 10px;
            background-color: #aaa;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
        }
        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            header {
                padding: 0.3rem 1rem; /* Reduced padding for mobile */
            }
            header h1 {
                font-size: 1.5rem; /* Smaller font for mobile header */
                white-space: nowrap; /* Ensure it stays on one line */
                overflow: hidden; /* Hide overflow if it somehow goes beyond */
                text-overflow: ellipsis; /* Add ellipsis if hidden */
            }
            nav.nav-links {
                /* No flex-direction: column; to keep links horizontal */
                gap: 0.3rem; /* Reduced gap between links */
                margin-top: 0.3rem; /* Reduced margin from title */
                justify-content: space-around; /* Distribute space more evenly */
                flex-wrap: wrap; /* Allow wrapping if absolutely necessary, but try to prevent */
            }
            nav a {
                font-size: 0.75rem; /* Even smaller font for nav links */
                padding: 3px 0.1rem; /* Reduced vertical and horizontal padding for tighter fit */
            }
            .container {
                padding: 2rem 4vw; /* Slightly less padding on sides for mobile */
            }
            h2 {
                font-size: 1.7rem; /* Smaller headings on mobile */
                padding-bottom: 0.5rem;
            }
            section {
                padding: 1.5rem; /* Reduced section padding */
            }
            .service-card {
                padding: 1.5rem; /* Reduced service card padding */
            }
            button {
                padding: 0.7rem 1.4rem; /* Smaller button padding */
                font-size: 0.95rem; /* Smaller button font */
            }
        }
        
        /* Further optimization for very small screens */
        @media (max-width: 480px) {
            header h1 {
                font-size: 1.2rem; /* Even smaller font for very small mobile header */
            }
            nav a {
                font-size: 0.65rem; /* Even smaller font for very small mobile nav links */
                padding: 2px 0.05rem; /* Even tighter padding */
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>samRad Health Technologies</h1>
        <nav class="nav-links">
            <a href="#about">About</a>
            <a href="#services">Services</a>
            <a href="#continuous-improvement">Advancements</a>
            <a href="#certifications">Certifications</a>
            <a href="#quiz">Imaging & Quiz</a>
            <a href="#radiation-animation">Radiation Simulation</a>
            <a href="#contact">Contact</a>
        </nav>
    </header>
    <div class="container">
        <section id="about">
            <h2>About Us</h2>
            <p>samRad Health Technologies is a visionary cancer research and healthtech enterprise. Our mission is to pioneer intelligent, automated systems that empower clinicians to detect and quantify tumors from radiological imaging with precision and ease. Our AI pipelines are open, transparent, and designed to speed up diagnostics and enhance medical research.</p>
            <p>Founded by *** B. ****, a Zimbabwean PhD student in Physics at the University of NH in the United States, the initiative is rooted in a passion for oncology and a heartfelt commitment to expanding access to care. Coming from a background marked by economic hardship and limited access to advanced healthcare, **** has firsthand experience of the challenges faced by most African communities.</p>
            <p>Through resilience and a relentless pursuit of education, he now seeks to transform lives&mdash;not just through innovation, but by creating pathways for others from similar circumstances. samRad Health Technologies aspires to forge partnerships with hospitals across Zimbabwe and Southern Africa, uplifting cancer care through technological excellence and shared knowledge.</p>
        </section>
        <section id="services">
            <h2>Our Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <h3>AI Tumor Detection</h3>
                    <p>Instant analysis of medical scan images (DICOM) to assess cancer risk using trained AI models.</p>
                </div>
                <div class="service-card">
                    <h3>Clinical Pipeline Tooling</h3>
                    <p>Command-line tools for clinical researchers to process imaging data and patient datasets efficiently at scale.</p>
                </div>
                <div class="service-card">
                    <h3>Data Integration & Interoperability</h3>
                    <p>Robust support for structured CSV metadata, clinical tagging, and export-ready research formats. Seamlessly integrate with existing hospital systems.</p>
                </div>
            </div>
        </section>
        <section id="continuous-improvement">
            <h2>Advancements</h2>
            <p>At samRad Health Technologies, our mission centers on **precision**&mdash;a quality vividly demonstrated in this radiation beam simulation. The gantry, the rotating arm of a radiation machine, precisely delivers a targeted beam to the tumor, minimizing exposure to healthy tissue. This animation highlights the **crucial role of accurate targeting** in modern cancer treatment and is a core example of the advancements we are working to bring to cancer care.</p>
        </section>
        <section id="certifications">
            <h2>Certifications & Research Ethics</h2>
            <ul>
                <li>Fully compliant with **HIPAA** data handling protocols to ensure patient data privacy and security.</li>
                <li>Model validation on ethically sourced, anonymized datasets to maintain integrity and prevent bias.</li>
                <li>Strict adherence to **IRB** (Institutional Review Board) and institutional ethics review processes for all research and development.</li>
            </ul>
        </section>
        <section id="quiz">
            <h2>Imaging and Quiz</h2>
            <p>Medical imaging—like MRI, CT, and PET scans—is often the first step in diagnosing and treating cancer. These tools guide decisions and shape care, but many people don’t fully understand what they are or how they work.</p>
            <p>Early detection is especially critical for cancers like breast cancer, prostate cancer, and glioblastoma. Catching these diseases in their earliest stages can significantly improve treatment options, reduce the need for aggressive interventions, and boost survival rates.</p>
            <p>At <strong>samRad Health Technologies</strong>, we’re developing software that helps detect tumors directly from medical images (DICOM files)—making diagnosis faster, earlier, and more accessible. Our goal is to support timely intervention, enable emerging treatment modalities, and ultimately improve patient outcomes.</p>
            <p>Being informed can reduce fear, improve communication with your care team, and help you make confident choices.</p>
            <p><strong>Take the quiz to learn the basics and better navigate your health journey.</strong></p>
            <button id="start-quiz-btn">Start Quiz</button>
            <div id="quiz-form"></div>
            <div id="quiz-result"></div>
        </section>
        <div id="radiation-animation">
            <h2>Radiation Beam Simulation</h2>
            <p>At samRad Health Technologies, our mission centers on **precision**&mdash;a quality vividly demonstrated in this radiation beam simulation. The gantry, the rotating arm of a radiation machine, precisely delivers a targeted beam to the tumor, minimizing exposure to healthy tissue. This animation highlights the **crucial role of accurate targeting** in modern cancer treatment and is a core example of the advancements we are working to bring to cancer care.</p>
            
            <div id="animation-container-horizontal">
                <div class="gantry-circle">
                    <div class="gantry-head"></div>
                </div>
                <div class="human-body-silhouette" id="human-target">
                    <svg viewBox="0 0 100 200" preserveAspectRatio="xMidYMid meet">
                        <defs>
                            <linearGradient id="humanGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#b0c4de;stop-opacity:1" /> 
                                <stop offset="50%" style="stop-color:#a0b4ce;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#90a4be;stop-opacity:1" /> 
                            </linearGradient>
                        </defs>
                        <path d="M50,20 A15,15 0 1 1 50,50 A15,15 0 1 1 50,20 Z 
                                  M50,50 L50,120 
                                  M50,70 L20,90 M50,70 L80,90 
                                  M50,120 L35,180 M50,120 L65,180"
                            fill="none" stroke="url(#humanGradient)" stroke-width="4"></path>
                    </svg>
                    <div class="tumor"></div>
                </div>
                <div class="beam"></div>
                <div class="patient-table"></div>
            </div>
            <button id="start-animation-btn" style="margin-top: 1.5rem;">Start Simulation</button>
        </div>
        <section id="contact">
            <h2>Contact Us</h2>
            <p>Email: <a href="mailto:****@proton.me">****@proton.me</a></p>
            <p>GitHub: <a href="https://****25.github.io/samRad-Health-Technologies/" target="_blank" rel="noopener noreferrer">https://****25.github.io/samRad-Health-Technologies/</a></p>
        </section>
    </div>
    <footer>
        <p>&copy; 2025 samRad Health Technologies. All rights reserved.</p>
    </footer>
    <script>
        function throttle(func, limit) {
            let inThrottle;
            return function() {
                const args = arguments;
                const context = this;
                if (!inThrottle) {
                    func.apply(context, args);
                    inThrottle = true;
                    setTimeout(() => inThrottle = false, limit);
                }
            }
        }
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM Content Loaded: Initializing quiz script.');
            const headerTitle = document.querySelector('header h1');
            const navLinks = document.querySelector('nav.nav-links');
            const menuToggle = document.querySelector('.menu-toggle'); 
            const header = document.querySelector('header');
            if (!headerTitle || !navLinks || !header) {
                console.warn('Required header elements for mobile menu or scrolling not found. Some header functionalities might be impacted.');
            }
            if (menuToggle) {
                menuToggle.addEventListener('click', () => {
                    if (navLinks) {
                        navLinks.classList.toggle('active');
                    }
                    menuToggle.classList.toggle('active');
                });
            }
            if (navLinks) {
                navLinks.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        if (navLinks.classList.contains('active')) { 
                            navLinks.classList.remove('active');
                            if (menuToggle) {
                                menuToggle.classList.remove('active');
                            }
                        }
                    });
                });
            }
            const sections = document.querySelectorAll('section, #radiation-animation');
            const highlightActiveSection = () => {
                let currentActive = null;
                const headerHeight = header ? header.offsetHeight : 0;
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - headerHeight - 60;
                    const sectionBottom = sectionTop + section.offsetHeight;
                    if (window.scrollY >= sectionTop && window.scrollY < sectionBottom) {
                        currentActive = section.id;
                    }
                    section.classList.remove('active-section');
                });
                if (currentActive) {
                    const activeSectionElement = document.getElementById(currentActive);
                    if (activeSectionElement) {
                        activeSectionElement.classList.add('active-section');
                    }
                    if (navLinks) {
                        navLinks.querySelectorAll('a').forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${currentActive}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                }
            };
            window.addEventListener('scroll', throttle(highlightActiveSection, 100));
            highlightActiveSection(); // Call on load to set initial active section
            // --- Quiz Data and Logic ---
            const allQuizData = [
                { question: "What does MRI primarily use to generate images?", options: ["X-rays", "Magnetic fields & radio waves", "Sound waves", "Gamma rays"], answer: 1 },
                { question: "What tracer is commonly used in PET scans?", options: ["Iodine-131", "Technetium-99m", "Fluorodeoxyglucose (FDG)", "Gadolinium"], answer: 2 },
                { question: "CT scans are best for visualizing:", options: ["Soft tissues", "Bone fractures", "Ligaments", "Muscle tears"], answer: 1 },
                { question: "Radiation therapy aims to:", options: ["Cure viral infections", "Kill cancer cells using ionizing radiation", "Deliver chemotherapy", "Visualize tumors"], answer: 1 },
                { question: "Which imaging technique does NOT use ionizing radiation?", options: ["CT", "PET", "MRI", "X-ray"], answer: 2 },
                { question: "PET-CT combines functional imaging with:", options: ["MRI detail", "CT detail", "Ultrasound mapping", "Bone scan"], answer: 1 },
                { question: "Which of the following is a late side effect of radiation therapy?", options: ["Hair loss", "Skin redness", "Fibrosis", "Nausea"], answer: 2 },
                { question: "MRI contrast agents often contain:", options: ["Lead", "Barium", "Gadolinium", "Iodine"], answer: 2 },
                { question: "Which scan is most sensitive for brain soft tissue detail?", options: ["X-ray", "CT", "PET", "MRI"], answer: 3 },
                { question: "Which of the following improves MRI resolution?", options: ["Higher magnetic field strength", "More X-ray dose", "Lower radiofrequency", "Using ultrasound gel"], answer: 0 },
                { question: "What is the primary danger associated with excessive exposure to ionizing radiation?", options: ["Dehydration", "Hearing loss", "Cellular damage and cancer risk", "Muscle atrophy"], answer: 2 },
                { question: "Which imaging modality is commonly used to diagnose gallstones?", options: ["MRI", "CT Scan", "Ultrasound", "X-ray"], answer: 2 },
                { question: "In X-ray imaging, what appears white on the image?", options: ["Air", "Fat", "Water", "Bone"], answer: 3 },
                { question: "What does PACS stand for in radiology?", options: ["Patient Access Control System", "Picture Archiving and Communication System", "Physical Assessment and Clinical Study", "Portable Anatomy Classification System"], answer: 1 },
                { question: "Which type of radiation is used in nuclear medicine scans?", options: ["Alpha particles", "Beta particles", "Gamma rays", "Neutrons"], answer: 2 },
                { question: "What is a common use for a DEXA scan?", options: ["Brain imaging", "Bone density measurement", "Kidney function assessment", "Cardiac imaging"], answer: 1 },
                { question: "Which organ is most sensitive to radiation?", options: ["Skin", "Brain", "Gonads", "Muscles"], answer: 2 },
                { question: "What is an angiogram used to visualize?", options: ["Bones", "Blood vessels", "Muscles", "Nerves"], answer: 1 },
                { question: "What does 'kVp' refer to in X-ray technology?", options: ["Kilovolt-peak", "Kilo-volume particle", "Kinetic velocity pressure", "Kelvin temperature peak"], answer: 0 },
                { question: "What safety precaution is crucial when performing an MRI?", options: ["Wearing lead apron", "Removing all metallic objects", "Using ear protection", "Fasting before the scan"], answer: 1 },
                { question: "What is the primary function of a radiologist?", options: ["Perform surgeries", "Interpret medical images", "Prescribe medication", "Conduct lab tests"], answer: 1 },
                { question: "Which imaging technique uses sound waves?", options: ["CT", "MRI", "X-ray", "Ultrasound"], answer: 3 },
                { question: "What is 'contrast media' used for in imaging?", options: ["To reduce radiation dose", "To enhance visibility of specific tissues or structures", "To speed up the imaging process", "To cool down the scanner"], answer: 1 },
                { question: "Which condition is often diagnosed using a mammogram?", options: ["Heart disease", "Breast cancer", "Lung infection", "Kidney stones"], answer: 1 },
                { question: "What is absorbed dose measured in?", options: ["Sieverts (Sv)", "Grays (Gy)", "Becquerels (Bq)", "Roentgens (R)"], answer: 1 },
                { question: "What is a common application for fluoroscopy?", options: ["Static bone imaging", "Real-time imaging of body structures in motion", "Detailed soft tissue analysis", "Measuring brain activity"], answer: 1 },
                { question: "What does 'ALARA' stand for in radiation safety?", options: ["As Little As Reasonably Achievable", "Always Limit All Radiation Avoidance", "Active Level And Radiation Alert", "Automated Localized Area Radiation Assessment"], answer: 0 },
                { question: "Which imaging technique would be best for evaluating a torn meniscus in the knee?", options: ["X-ray", "CT scan", "MRI", "Ultrasound"], answer: 2 },
                { question: "What is a nuclear stress test used to evaluate?", options: ["Bone strength", "Kidney function", "Heart blood flow", "Brain tumors"], answer: 2 },
                { question: "What does SPECT stand for?", options: ["Single-Photon Emission Computed Tomography", "Specialized Particle Emission Clinical Test", "Synchronized Positron Emission Computed Tomography", "Systematic Patient Evaluation and Care Therapy"], answer: 0 }
            ];
            let currentQuestionIndex = 0;
            let score = 0;
            const quizFormDiv = document.getElementById('quiz-form');
            const quizResultDiv = document.getElementById('quiz-result');
            const startQuizBtn = document.getElementById('start-quiz-btn');

            function loadQuestion() {
                if (currentQuestionIndex < allQuizData.length) {
                    const quizData = allQuizData[currentQuestionIndex];
                    quizFormDiv.innerHTML = `
                        <h3>${quizData.question}</h3>
                        ${quizData.options.map((option, i) => `
                            <label>
                                <input type="radio" name="quiz-option" value="${i}" />
                                ${option}
                            </label>
                        `).join('')}
                        <button id="submit-answer-btn">Submit Answer</button>
                    `;
                    document.getElementById('submit-answer-btn').addEventListener('click', submitAnswer);
                    quizResultDiv.innerHTML = '';
                } else {
                    showFinalResults();
                }
            }

            function submitAnswer() {
                const selectedOption = document.querySelector('input[name="quiz-option"]:checked');
                if (selectedOption) {
                    const userAnswer = parseInt(selectedOption.value);
                    if (userAnswer === allQuizData[currentQuestionIndex].answer) {
                        score++;
                        quizResultDiv.innerHTML = '<p style="color: green; font-weight: bold;">Correct!</p>';
                    } else {
                        quizResultDiv.innerHTML = `<p style="color: red; font-weight: bold;">Incorrect. The correct answer was: ${allQuizData[currentQuestionIndex].options[allQuizData[currentQuestionIndex].answer]}</p>`;
                    }
                    currentQuestionIndex++;
                    // Add a small delay before loading next question or showing results
                    setTimeout(() => {
                        loadQuestion();
                    }, 1500); 
                } else {
                    quizResultDiv.innerHTML = '<p style="color: orange;">Please select an answer.</p>';
                }
            }

            function showFinalResults() {
                quizFormDiv.innerHTML = '';
                quizResultDiv.innerHTML = `
                    <h3>Quiz Complete!</h3>
                    <p>You scored ${score} out of ${allQuizData.length}.</p>
                    <button id="restart-quiz-btn">Restart Quiz</button>
                `;
                document.getElementById('restart-quiz-btn').addEventListener('click', () => {
                    currentQuestionIndex = 0;
                    score = 0;
                    loadQuestion();
                });
            }

            if (startQuizBtn) {
                startQuizBtn.addEventListener('click', () => {
                    startQuizBtn.style.display = 'none'; // Hide the start button
                    loadQuestion();
                });
            } else {
                console.error("Start Quiz Button not found!");
            }

            // --- Radiation Animation Logic ---
            const animationContainer = document.getElementById('animation-container-horizontal');
            const gantryCircle = document.querySelector('.gantry-circle');
            const gantryHead = document.querySelector('.gantry-head');
            const beam = document.querySelector('.beam');
            const tumor = document.querySelector('.tumor');
            const startAnimationBtn = document.getElementById('start-animation-btn');

            let animationInterval;
            let currentAngle = 0; // Start at 0 degrees (top)

            // Function to calculate gantry head and beam positions
            function updateGantryAndBeamPosition(angle) {
                const radius = gantryCircle.offsetWidth / 2; // Radius of the gantry ring
                const centerX = radius; // Center of the gantry circle relative to its own parent (animationContainer)
                const centerY = radius;

                // Angle needs to be converted to radians for Math.sin and Math.cos
                const angleRad = (angle - 90) * (Math.PI / 180); // Adjust for 0deg being at 3 o'clock in trig

                // Calculate gantry head position relative to the gantryCircle's top-left
                // The gantry-circle is transformed to its center, so we calculate relative to the top-left of its original (untranslated) position.
                // We want the head to be on the *outer* edge of the visual ring, which has a thickness of 30px (15px + 15px).
                // The actual radius of the gantry-circle div is 120px (240px / 2).
                // The visual outer radius is 120px, inner is 120 - 30 = 90px.
                // To place the head on the outer edge, its center should be at radius + (ring_thickness/2).
                // A simpler way for this visual setup is to just think of it as the center of the gantry-circle div.
                // The gantry-head should ideally sit on the outer edge of the visually rendered gantry-circle.
                // The visual ring has an outer radius of `gantryCircle.offsetWidth / 2`.
                // Let's use a fixed offset from the center that places it visually on the outer edge.
                const visualRingOuterRadius = radius; // This is the radius of the gantry-circle div itself
                const headOffsetFromCenter = visualRingOuterRadius - (gantryHead.offsetWidth / 2) - 2; // Adjust 2px for fine-tuning
                
                const headX = centerX + headOffsetFromCenter * Math.cos(angleRad);
                const headY = centerY + headOffsetFromCenter * Math.sin(angleRad);

                // Update CSS custom properties
                animationContainer.style.setProperty('--gantry-rotation', `${angle}deg`);
                gantryHead.style.left = `${headX}px`;
                gantryHead.style.top = `${headY}px`;

                // Calculate beam properties
                // Tumor position relative to animation container's center
                const tumorRect = tumor.getBoundingClientRect();
                const containerRect = animationContainer.getBoundingClientRect();
                const tumorCenterX = tumorRect.left - containerRect.left + tumorRect.width / 2;
                const tumorCenterY = tumorRect.top - containerRect.top + tumorRect.height / 2;

                // Gantry head position relative to animation container's top-left
                // Note: gantryHead.style.left/top are *relative to gantryCircle*.
                // gantryCircle's center is at 50%, 50% of animationContainer.
                const gantryCircleCenterX = containerRect.width / 2;
                const gantryCircleCenterY = containerRect.height / 2;

                const headXAbsolute = gantryCircleCenterX + (headOffsetFromCenter * Math.cos(angleRad));
                const headYAbsolute = gantryCircleCenterY + (headOffsetFromCenter * Math.sin(angleRad));
                
                // Set beam origin (where the beam starts from)
                beam.style.left = `${headXAbsolute}px`;
                beam.style.top = `${headYAbsolute}px`;

                // Calculate angle of the beam from gantry head to tumor
                const dx = tumorCenterX - headXAbsolute;
                const dy = tumorCenterY - headYAbsolute;
                const beamAngle = Math.atan2(dy, dx) * (180 / Math.PI); // Angle in degrees
                const beamLength = Math.sqrt(dx * dx + dy * dy);

                beam.style.transform = `translateY(-50%) rotate(${beamAngle}deg)`;
                beam.style.width = `${beamLength}px`;
            }

            function startRadiationAnimation() {
                if (animationInterval) return; // Prevent multiple intervals

                tumor.classList.add('glowing');
                let rotations = 0;
                const totalRotations = 2; // Number of full 360-degree rotations
                const rotationSpeed = 3; // Degrees per frame
                const intervalTime = 16; // Milliseconds per frame (approx 60fps)

                animationInterval = setInterval(() => {
                    currentAngle = (currentAngle + rotationSpeed) % 360;

                    // Update gantry and beam position based on currentAngle
                    updateGantryAndBeamPosition(currentAngle);

                    // Show beam when it's pointed at the tumor (e.g., within a certain angular range)
                    // This is a simplified check. In a real scenario, you'd calculate precise angles.
                    // For demonstration, let's assume the tumor is roughly at 180 degrees relative to gantry center.
                    // We need to calculate the angle from the gantry's current head position to the tumor.
                    // And only fire the beam when that angle aligns with a direct path.

                    // A simpler approach for visual effect: fire when gantry head is 'behind' the tumor
                    // which is when the beam would pass through.
                    // If the tumor is at the center, the beam fires when the gantry head is opposite to it.
                    // For this setup, the tumor is center of the container, so beam fires when head points at it.

                    // The tumor is at 55% top, 50% left of the container.
                    // The gantry circle is at 50% top, 50% left of the container.
                    // So, the beam should fire when the gantry head is pointed towards the center of the container.

                    // Get the gantry head's current calculated angle relative to the center of the gantry circle.
                    // This is 'currentAngle' directly.
                    // We want the beam to pass through the *center* of the animation container (where the stick figure is).
                    // The gantry head is on the circle. The beam should fire from the head, through the center, to the other side.
                    // This means the beam's direction should be `currentAngle + 180` (or `currentAngle - 180`).
                    // The beam itself has a fixed `transform-origin: left center;` and its own rotation.

                    // For a realistic setup:
                    // 1. Gantry head position is `(headXAbsolute, headYAbsolute)`.
                    // 2. Tumor position is `(tumorCenterX, tumorCenterY)`.
                    // 3. Beam should originate from `(headXAbsolute, headYAbsolute)`.
                    // 4. Beam should rotate to point towards `(tumorCenterX, tumorCenterY)`.
                    // 5. Beam length should be distance from head to tumor.

                    // The `updateGantryAndBeamPosition` already calculates this.
                    // Now, we control the beam's opacity to simulate firing.
                    // We'll make it fire when the gantry passes certain angles.
                    // Let's say it fires for a small window around 90, 180, 270, 0 (360) degrees, simulating passes.
                    const fireAngleTolerance = rotationSpeed * 3; // Fire for a few frames
                    const targetAngles = [0, 90, 180, 270]; // Example angles to fire
                    
                    let isFiring = false;
                    for (const target of targetAngles) {
                        const lowerBound = (target - fireAngleTolerance + 360) % 360;
                        const upperBound = (target + fireAngleTolerance) % 360;

                        if (lowerBound <= upperBound) {
                            if (currentAngle >= lowerBound && currentAngle <= upperBound) {
                                isFiring = true;
                                break;
                            }
                        } else { // Handles wrap-around (e.g., 350 to 10 degrees)
                            if (currentAngle >= lowerBound || currentAngle <= upperBound) {
                                isFiring = true;
                                break;
                            }
                        }
                    }

                    if (isFiring) {
                        beam.style.opacity = 1;
                        beam.classList.add('firing');
                    } else {
                        beam.style.opacity = 0;
                        beam.classList.remove('firing');
                    }


                    if (currentAngle >= 359 && rotations < totalRotations - 1) { // Check for near completion of a full rotation
                        rotations++;
                    } else if (currentAngle >= 359 && rotations === totalRotations - 1) {
                        // Finished last rotation
                        clearInterval(animationInterval);
                        animationInterval = null; // Reset
                        beam.style.opacity = 0;
                        beam.classList.remove('firing');
                        tumor.classList.remove('glowing');
                        startAnimationBtn.disabled = false; // Re-enable button
                        currentAngle = 0; // Reset angle for next run
                        updateGantryAndBeamPosition(currentAngle); // Reset visuals
                    }
                }, intervalTime);
                startAnimationBtn.disabled = true; // Disable button while animating
            }

            if (startAnimationBtn) {
                startAnimationBtn.addEventListener('click', startRadiationAnimation);
            }
        });
    </script>
</body>
</html>
